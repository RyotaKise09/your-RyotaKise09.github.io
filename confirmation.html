<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RSVP Confirmation</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="confirm-box">
        <h1>Thank You for Your RSVP!</h1>
        <p class="details">
            Your response has been recorded.  
            Below are the guests you confirmed:
        </p>
        <div id="guestListConfirmed"></div>
        <button class="home-btn" onclick="goHome()">BACK TO INVITATION</button>
    </div>

    <script>
        const params = new URLSearchParams(window.location.search);
        const guestsParam = params.get("guests");

        let guests = [];

        if (guestsParam) {
            try {
                guests = JSON.parse(decodeURIComponent(guestsParam));
                // Ensure guests is an array of strings
                if (!Array.isArray(guests)) {
                    guests = [];
                }
            } catch (err) {
                console.error("Guest parse error:", err);
                guests = [];
            }
        }

        const container = document.getElementById("guestListConfirmed");

        if (guests.length === 0) {
            container.innerHTML = "<p>No guests were confirmed.</p>";
        } else {
            guests.forEach(name => {
                if (typeof name === 'string' && name.trim()) {
                    const p = document.createElement("p");
                    p.textContent = "âœ” " + name.trim();
                    container.appendChild(p);
                }
            });
        }

        function goHome() {
            window.location.href = "index.html";
        }
    </script>
</body>
</html>



