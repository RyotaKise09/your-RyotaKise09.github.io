<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RSVP Confirmation</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="confirm-box">
        <h1>Thank You for Your RSVP!</h1>
        <p class="details">
            Your response has been recorded.  
        </p>
        <div id="guestListConfirmed"></div>
        <button class="home-btn" onclick="goHome()">BACK TO INVITATION</button>
    </div>

    <script>
        // Get all accepted guests from URL
        const params = new URLSearchParams(window.location.search);
        const guestsParam = params.get("guests");
        console.log("Raw guests param from URL:", guestsParam);  // Debug: Check if param exists

        let guests = [];
        if (guestsParam) {
            try {
                guests = JSON.parse(guestsParam);
                console.log("Parsed guests array:", guests);  // Debug: Check parsed array
            } catch (e) {
                console.error("Error parsing guests param:", e);
                guests = [];  // Fallback to empty
            }
        } else {
            console.warn("No 'guests' param in URL");  // Debug: If missing
        }

        const container = document.getElementById("guestListConfirmed");

        if (guests.length === 0) {
    container.innerHTML = "<p>No guests were accepted.</p>";
    console.log("No guests to display");  // Debug: Confirms no guests were parsed
} else {
    // Clear any previous content and add the count header
    container.innerHTML = `<p><strong>${guests.length} guest(s) accepted:</strong></p>`;
    
    // Loop through each accepted guest and display them
    guests.forEach(name => {
        const div = document.createElement("p");
        div.className = "confirmed-name";
        div.textContent = "âœ” " + name;
        container.appendChild(div);
    });
    
    console.log("Displayed guests:", guests);  // Debug: Logs the displayed guests for verification
}

        function goHome() {
            window.location.href = "index.html";
        }
    </script>
</body>
</html>

